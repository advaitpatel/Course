@using GameStore.Extension;
@model GameStore.WebUI.Models.OrderViewModel
@{
    ViewBag.Title = "Place Order";
    double total = 0;
}

@Html.Partial("_FrontPartial")
@using (Html.BeginForm("PlaceOrder", "ShoppingCart", FormMethod.Post, new { enctype = "multipart/form-data", @class = "form-horizontal" }))
{
    <div class="form-group">
        @Html.LabelFor(o => o.UserName, new { @class = "col-md-2 control-label" })
        <div class="col-sm-10">
            @Html.TextBoxFor(o => o.UserName, new { @class = "form-control", @placeholder = "Customer Name", disabled = "true" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(o => o.Address, new { @class = "col-md-2 control-label" })
        <div class="col-sm-10">
            @Html.TextBoxFor(o => o.Address, new { @class = "form-control", @placeholder = "Customer Name", disabled = "true" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(o => o.CreditCard, new { @class = "col-md-2 control-label" })
        <div class="col-sm-10">
            @Html.TextBoxFor(o => o.CreditCard, new { @class = "form-control", @placeholder = "Customer Name", disabled = "true" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(o => o.ConfirmationNumber, new { @class = "col-md-2 control-label" })
        <div class="col-sm-10">
            @Html.TextBoxFor(o => o.ConfirmationNumber, new { @class = "form-control", @placeholder = "Customer Name", disabled = "true" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(o => o.DeliveryDate, new { @class = "col-md-2 control-label" })
        <div class="col-sm-10">
            @Html.TextBoxFor(o => o.DeliveryDate, new { @class = "form-control", @placeholder = "Customer Name", disabled = "true" })
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            @Html.ActionLink("My Orders", "Index", new { controller = "MyOrder" }, new { @class="btn btn-info"})
        </div>
    </div>
}

<table class="table table-striped" id="modelList">
    <thead>
        <tr>
            <th>Product Id</th>
            <th>Product Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Sub Total</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Items)
        {
            <tr>
                <td>@item.ProductId</td>
                <td>@item.ProductName</td>
                <td>@Html.FormattedCurrency(item.GetDiscountedPrice())</td>
                <td>@item.Quantity</td>
                <td>@Html.FormattedCurrency(item.GetTotalCost())</td>
            </tr>
            total += item.GetTotalCost();
        }
    </tbody>
    <tfoot>
        <tr><td></td><td></td><td></td><td>Total:</td><td>@Html.FormattedCurrency(total)</td></tr>
    </tfoot>
</table>
